<div class="container">
  <main>
    <h1>CONVERSOR DE MOEDAS</h1>

    <form
      nz-form
      [formGroup]="validateForm"
      (ngSubmit)="submitForm()"
    >
      <nz-input-group>
        <input
        nz-input
        placeholder="Valor"
        type="number"
        min="0"
        formControlName="valor"
        (ngModelChange)="trySubmit()"
        />
      </nz-input-group>

      <nz-input-group class="contSelects" >
        <nz-select
          nzShowSearch
          class="selectMoeda"
          nzPlaceHolder="Moeda Inicial"
          formControlName="moedaInicial"
          (ngModelChange)="trySubmit()"
          [ngModel]="validateForm.value.moedaInicial"
        >
        <nz-option
          [nzValue]="moeda.abreviacao"
          [nzLabel]="moeda.nome"
          *ngFor="let moeda of moedas"
        >
        </nz-option>
      </nz-select>

      <button
        type="button"
        title="Inverter Moedas"
        (click)="changeSelects()"
      >
        <span nz-icon nzType="retweet" nzTheme="outline"></span>
      </button>

      <nz-select
        nzShowSearch
        class="selectMoeda"
        nzPlaceHolder="Moeda Final"
        formControlName="moedaFinal"
        (ngModelChange)="trySubmit()"
        [ngModel]="validateForm.value.moedaFinal"
      >
        <nz-option
          [nzValue]="moeda.abreviacao"
          [nzLabel]="moeda.nome"
          *ngFor="let moeda of moedas"
        >
        </nz-option>
      </nz-select>
    </nz-input-group>
  </form>

  <div class="resultado" *ngIf="mostrarResultado">
    <nz-divider nzText="Resultados"></nz-divider>

    <ul>
      <li>
        <strong>Cotação Atual do {{ validateForm.value.moedaInicial }}:</strong>
        {{ cotacao }} {{ validateForm.value.moedaFinal}}
      </li>
      <li>
        <strong>{{ validateForm.value.valor }} {{ validateForm.value.moedaInicial }} são:</strong>
        {{ resultado }} {{ validateForm.value.moedaFinal }}
      </li>
    </ul>
  </div>

</main>
</div>
